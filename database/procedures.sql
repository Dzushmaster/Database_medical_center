create or replace PROCEDURE CHECK_LOGIN(
    LOGIN IN USER_.LOGIN%TYPE,
    RESULT_ IN OUT BOOLEAN)
IS
CURSOR USER_LOGIN IS SELECT USER_.LOGIN FROM USER_ WHERE USER_.LOGIN = LOGIN; 
CURSOR DOCTOR_LOGIN IS SELECT DOCTOR.LOGIN FROM DOCTOR WHERE DOCTOR.LOGIN = LOGIN;
LOGIN_US USER_.LOGIN%TYPE;
LOGIN_DOC DOCTOR.LOGIN%TYPE;
BEGIN

    OPEN USER_LOGIN;
LOOP
    FETCH USER_LOGIN INTO LOGIN_US;
    RESULT_ := USER_LOGIN%ROWCOUNT != 0;
    EXIT WHEN RESULT_ = TRUE OR USER_LOGIN%NOTFOUND; 
END LOOP;    
    CLOSE USER_LOGIN;
    IF RESULT_ = TRUE
    THEN
        RETURN;
    END IF;

    OPEN DOCTOR_LOGIN;
LOOP
    FETCH DOCTOR_LOGIN INTO LOGIN_DOC;
    RESULT_ := DOCTOR_LOGIN%ROWCOUNT != 0;
    EXIT WHEN RESULT_ = TRUE OR DOCTOR_LOGIN%NOTFOUND; 
END LOOP;
    CLOSE DOCTOR_LOGIN;
END CHECK_LOGIN;
